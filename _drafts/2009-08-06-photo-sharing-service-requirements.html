---
layout: post
title: Photo Sharing Service Requirements
date: '2009-08-06T13:41:00.004-04:00'
author: dub
tags:
- photo
modified_time: '2014-05-30T18:39:32.374-04:00'
blogger_id: tag:blogger.com,1999:blog-8681083740214020499.post-6224358028394546483
blogger_orig_url: https://blog.dub.podval.org/2009/08/photo-sharing-service-requirements.html
---

The time has come to describe my "search" for the perfect photo sharing!<br />
<br />
My workflow:<br />
<ul>
<li>store pictures on my computer;</li>
<li>classify them into "events";</li>
<li>select the deserving ones and publish;</li>
<li>I do not edit, but I do retain RAW files for occasional high-quality print.</li>
</ul>
I want to be able to view my photos and publish the ones I want to publish&nbsp;online, not from a dedicated computer. It would be nice to store all the pictures online, for backup.<br />
<br />
It is expected from a photo-sharing installation that a visitor should be able to leave comments and order prints. Thus, user authentication and integration with third-party services is required.<br />
<br />
I tried rolling my own between 2000 and 2007. In the process I learned a lot about browser image caching&nbsp;peculiarities; image metadata storage formats; extraction of images from RAW files; etc. At various points various alpha versions of my code were actually serving pictures, but in the end it turned out that I can not deliver a solution for our family's photo sharing needs :(<br />
<br />
I looked into self-hosted packages like gallery and jalbum. They did not work out for various reasons (not just "not made here"): poor support for RAW files; poor support for event grouping or album organisation etc.<br />
<br />
I looked into web-based services, including - but not limited to: Flickr, Fotki, Zenflio, Picasa.<br />
<br />
My requirements:<br />
<br />
<ul>
<li>support for my workflow</li>
<li>unlimited storage</li>
<li>storage of RAW files</li>
<li>minimal editing capabilities (rotation)</li>
<li>support for print ordering with cropping</li>
<li>support for folder hierarchy with flexible access control, so that I can store the photos in a private hierarchy, and publish to the open one</li>
<li>subsets and links (for publication from the timeline)</li>
<li>ability to replace a photo with a different version</li>
<li>ability to put a photo into multiple albums without duplication, so that if I reprocess and replace a photo in the hierarchy of originals, it changes wherever it is published (effectively, allow links to photos (and albums)) [This feature, combined with authentication/authorization issues, proved difficult to do right in my attempts to roll my own.]</li>
<li>sorting of photos - and albums - by the date taken</li>
<li>tagging photos with people, places and events</li>
<li>practical programmatic access (API)</li>
<li>convenient mass upload (ideally - with synchronization of hierarchy)</li>
</ul>
Of the services I tried:<br />
<br />
<ul>
<li>none support storing RAW files</li>
<li>Picasa Web Albums charges for storage, and there is no unlimited</li>
<li>Picasa Web Albums does not support folders hierarchy, links or photo replacement</li>
<li>Zenfolio does not sort groups of albums - or albums themselves - among themselves by the date taken</li>
</ul>
<br />
Looking at programs like Shotwell, I realized that events should not just be tags as I thought previously, but that the directory structure should reflect them directly! Which means that I do not really need all that complex an hierarchy (and links); I just need a way to select photos that I want published from the timeline of events! Well, some hierarchy - ability to group albums by year - *is* useful, and maybe Picasa Web Albums will support it some day :) As for links, I think tags will replace them for me.<br />
<br />
<span style="font-size: large;">Zenfolio</span><br />
<br />
Zenfolio offers unlimited storage and arbitrary multi-level hierarchy.<br />
<br />
Zenfolio does not have tools for grouping photos into events, so my wife did it manually for a few thousand pictures...<br />
<br />
Zenfolio's uploader was slow and buggy, and there was no easy way to upload hundreds of photos from a directory structure. So I wrote my own using Zenfolio API (It wasn't a walk in the park; see TODO). Zenfolio refused to give me a free developer account, so I used my tools to do an XML dump of the metadata (painstakingly entered by my wife) and cancelled the account.<br />
<br />
<span style="font-size: large;">Picasa Web Albums</span><br />
<br />
In the end, I chose Picasa Web Albums, although it failed more of my requirements than any other service. My reasons:<br />
<ul>
<li>people tags;</li>
<li>&nbsp;potential integration with other Google services;</li>
<li>&nbsp;potentially fast progress.&nbsp;</li>
</ul>
With the advent of Google+, the hopes for further integration with other Google services started to pan out. As part of this development, Picasa Web Albums API will eventually be&nbsp;superseded by something new.<br />
<br />
Development of Picasa Web Albums turned out to be very slow. So slow indeed that some fell that the service is abandoned. With Google+ the pace picked up.<br />
<br />
<span style="font-size: large;">History</span><br />
<br />
Since Fall of 2006 I am using a "hosted" Google account: dub@podval.org.&nbsp;For a long time, "hosted" Google accounts like mine did not provide all the services that "normal" Google accounts did, like Reader or Picasa Web Albums. To publish my photos on Picasa, I had to have a "normal" account too, which was messy, even with a trick that was available to "associate" both of the accounts.<br />
<br />
It was especially messy for photos: when I tagged a photo stored in my "normal" account with a new person, a contact was created in that account, but not in my main "hosted" account. On the other hand, when I added a contact to my "hosted" account, it did not become available for tagging my photos. This forced me to start working on a contacts synchronizer - and look at Google APIs.<br />
<br />
Finally, in the end of 2010, Google switched to a "new infrastructure", and (almost) all the services - including Picasa Web Albums - became available to hosted accounts! For a while there was no way to buy more storage for a hosted Picasa account, making it unusable for me, since I have more photos that would fit in the default allotment, but that restriction went away around March of 2011.<br />
<br />
Now it was finally possible to store my photos in my main, "hosted" account. I did not want to have to&nbsp;reconstruct my published photos in the new account manually, though.&nbsp;This is when I started&nbsp;re-purposing my Zenfolio&nbsp;code (that was reasonably general anyways) to synchronize among two Picasa Web Albums accounts (and encountered a "new" GData client for Java).&nbsp;Data about faces and people tags did not seem to be available through the APIs (TODO: Issue #, although see TODO...), so I braced myself to the need to re-tag everything once I move the pictures.<br />
<br />
In the&nbsp;beginning&nbsp;of April 2011, Google introduced a way to migrate photo albums from one account to another. I asked for my photos to be migrated, and they were!<br />
<br />
There was a problem, though:&nbsp;some of the people tags become orphaned. The contacts they reference disappeared or merged with other contacts. All my attempts to remove the tags completely and start tagging anew - which becomes more attractive as the Goggle+ photo functionality develops, including tagging - failed; I still do not know how to get rid of the troublesome hanging contact references, and my "All People" tab loads forever and is completely useless.<br />
<div dir="ltr" style="line-height: 1.15; margin-bottom: 0pt; margin-top: 0pt;">
<br /></div>
<div dir="ltr" style="line-height: 1.15; margin-bottom: 0pt; margin-top: 0pt;">
I now envision a workflow where the photos are uploaded and stored on my server and automatically&nbsp;grouped&nbsp;into events. Then, through a web-interface, I tweak the&nbsp;grouping, name the events, rotate what needs to be rotated, and select which photos need to be published. Publishing to PWA is done automatically, and in such a way that if I tweak something in PWA, the changes are synchronized back to my local disk store. This is the direction my synchronization code is evolving in; in the end, I migh realize the 10+ year old dream of a perfect photo sharing yeat :)</div>
<br />
My code for synchronizing photos between local disk structure and Picasa Web Albums (with rotting Zenfolio support) is on GitHub: <a href="https://github.com/dubinsky/podval-photo-sync">podval-photo-sync</a>. Code for extracting metadata from image files: <a href="https://github.com/dubinsky/podval-imageio">podval-imageio</a>.<br />
<br />